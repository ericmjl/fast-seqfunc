
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ericmjl.github.io/fast-seqfunc/design/overall/">
      
      
        <link rel="prev" href="../custom_alphabets/">
      
      
        <link rel="next" href="../../releases/v0.0.3/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Fast-SeqFunc: Design Document - fast-seqfunc</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../apidocs.css">
    
      <link rel="stylesheet" href="../../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../../css/pandas-dataframe.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#fast-seqfunc-design-document" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="fast-seqfunc" class="md-header__button md-logo" aria-label="fast-seqfunc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96m0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32m32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16m16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            fast-seqfunc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Fast-SeqFunc: Design Document
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ericmjl/fast-seqfunc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    ericmjl/fast-seqfunc
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="fast-seqfunc" class="md-nav__button md-logo" aria-label="fast-seqfunc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96m0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32m32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16m16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16"/></svg>

    </a>
    fast-seqfunc
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ericmjl/fast-seqfunc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    ericmjl/fast-seqfunc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fast-SeqFunc Documentation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Top-level API for fast-seqfunc
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fast-SeqFunc Quickstart
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../roadmap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Roadmap
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Design
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../additional_predictors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Additional Predictors in Fast-SeqFunc: Design Document
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../additional_predictors_example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Additional Predictors: Usage Examples
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom_alphabets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Alphabets Design Document
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Fast-SeqFunc: Design Document
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Fast-SeqFunc: Design Document
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-goals" class="md-nav__link">
    <span class="md-ellipsis">
      Design Goals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Data Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-design" class="md-nav__link">
    <span class="md-ellipsis">
      API Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#high-level-api" class="md-nav__link">
    <span class="md-ellipsis">
      High-Level API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-line-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Command-Line Interface
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-design-decisions" class="md-nav__link">
    <span class="md-ellipsis">
      Key Design Decisions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Design Decisions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-embedding-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      1. Embedding Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-alphabet-design" class="md-nav__link">
    <span class="md-ellipsis">
      2. Alphabet Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-model-integration" class="md-nav__link">
    <span class="md-ellipsis">
      3. Model Integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-synthetic-data-generation" class="md-nav__link">
    <span class="md-ellipsis">
      4. Synthetic Data Generation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-details" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Details
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#onehotembedder" class="md-nav__link">
    <span class="md-ellipsis">
      OneHotEmbedder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alphabet-class" class="md-nav__link">
    <span class="md-ellipsis">
      Alphabet Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequencefunctionmodel" class="md-nav__link">
    <span class="md-ellipsis">
      SequenceFunctionModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synthetic-data-generation" class="md-nav__link">
    <span class="md-ellipsis">
      Synthetic Data Generation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      Future Enhancements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Releases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Releases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/v0.0.3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    V0.0.3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/v0.1.0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    V0.1.0
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/v0.1.1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    V0.1.1
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/classification_tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sequence Classification with Fast-SeqFunc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/regression_tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sequence Regression with Fast-SeqFunc
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-goals" class="md-nav__link">
    <span class="md-ellipsis">
      Design Goals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Data Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-design" class="md-nav__link">
    <span class="md-ellipsis">
      API Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#high-level-api" class="md-nav__link">
    <span class="md-ellipsis">
      High-Level API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-line-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Command-Line Interface
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-design-decisions" class="md-nav__link">
    <span class="md-ellipsis">
      Key Design Decisions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Design Decisions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-embedding-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      1. Embedding Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-alphabet-design" class="md-nav__link">
    <span class="md-ellipsis">
      2. Alphabet Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-model-integration" class="md-nav__link">
    <span class="md-ellipsis">
      3. Model Integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-synthetic-data-generation" class="md-nav__link">
    <span class="md-ellipsis">
      4. Synthetic Data Generation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-details" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Details
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#onehotembedder" class="md-nav__link">
    <span class="md-ellipsis">
      OneHotEmbedder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alphabet-class" class="md-nav__link">
    <span class="md-ellipsis">
      Alphabet Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequencefunctionmodel" class="md-nav__link">
    <span class="md-ellipsis">
      SequenceFunctionModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synthetic-data-generation" class="md-nav__link">
    <span class="md-ellipsis">
      Synthetic Data Generation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      Future Enhancements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="fast-seqfunc-design-document">Fast-SeqFunc: Design Document</h1>
<h2 id="overview">Overview</h2>
<p>Fast-SeqFunc is a Python package designed for efficient sequence-function modeling of proteins and nucleotide sequences. It provides a simple, high-level API that handles sequence embedding methods and automates model selection and training through the PyCaret framework.</p>
<p>The primary purpose of Fast-SeqFunc is to quickly detect whether there is meaningful "signal" in sequence-function data. By enabling rapid model development, researchers can determine early if predictive relationships exist, opportunistically use these models for ranking candidate sequences, and make informed decisions about investing in more complex modeling approaches when signal is detected.</p>
<h2 id="design-goals">Design Goals</h2>
<ol>
<li><strong>Simplicity</strong>: Provide a clean, intuitive API for training sequence-function models</li>
<li><strong>Flexibility</strong>: Support multiple sequence types with custom alphabet capabilities</li>
<li><strong>Automation</strong>: Leverage PyCaret to automate model selection and hyperparameter tuning</li>
<li><strong>Performance</strong>: Enable efficient processing through lazy loading and clean architecture</li>
<li><strong>Signal Detection</strong>: Rapidly determine if predictive relationships exist in the data</li>
<li><strong>Decision Support</strong>: Help users make informed choices about modeling approaches based on signal strength</li>
<li><strong>Candidate Ranking</strong>: Enable efficient prioritization of sequences for experimental testing</li>
</ol>
<h2 id="architecture">Architecture</h2>
<h3 id="core-components">Core Components</h3>
<p>The package is structured around these key components:</p>
<ol>
<li><strong>Core API</strong> (<code>core.py</code>)</li>
<li>High-level functions for training, prediction, and model management</li>
<li>
<p>Handles data loading and orchestration between embedders and models</p>
</li>
<li>
<p><strong>Embedders</strong> (<code>embedders.py</code>)</p>
</li>
<li><code>OneHotEmbedder</code>: One-hot encoding for protein, DNA, RNA, and custom alphabets</li>
<li>
<p>Factory function <code>get_embedder</code> to create embedder instances</p>
</li>
<li>
<p><strong>Alphabets</strong> (<code>alphabets.py</code>)</p>
</li>
<li><code>Alphabet</code> class for representing character sets and tokenization rules</li>
<li>Support for standard alphabets (protein, DNA, RNA) and custom alphabets</li>
<li>
<p>Handles mixed-length tokens and various sequence formats</p>
</li>
<li>
<p><strong>Models</strong> (<code>models.py</code>)</p>
</li>
<li><code>SequenceFunctionModel</code>: Main model class integrating with PyCaret</li>
<li>
<p>Handles training, prediction, evaluation, and persistence</p>
</li>
<li>
<p><strong>CLI</strong> (<code>cli.py</code>)</p>
</li>
<li>Command-line interface built with Typer</li>
<li>
<p>Commands for training, prediction, and embedding comparison</p>
</li>
<li>
<p><strong>Synthetic Data</strong> (<code>synthetic.py</code>)</p>
</li>
<li>Functions for generating synthetic sequence-function data</li>
<li>Various task generators for different use cases</li>
</ol>
<h3 id="data-flow">Data Flow</h3>
<ol>
<li>User provides sequence-function data (sequences + target values)</li>
<li>Data is validated and preprocessed</li>
<li>Sequences are embedded using the selected embedding method</li>
<li>PyCaret explores various ML models on the embeddings</li>
<li>Best model is selected, fine-tuned, and returned</li>
<li>Results and model artifacts are saved</li>
</ol>
<h2 id="api-design">API Design</h2>
<h3 id="high-level-api">High-Level API</h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">fast_seqfunc</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_model</span><span class="p">,</span> <span class="n">predict</span><span class="p">,</span> <span class="n">load_model</span>

<span class="c1"># Train a model</span>
<span class="n">model_info</span> <span class="o">=</span> <span class="n">train_model</span><span class="p">(</span>
    <span class="n">train_data</span><span class="o">=</span><span class="s2">&quot;train_data.csv&quot;</span><span class="p">,</span>
    <span class="n">test_data</span><span class="o">=</span><span class="s2">&quot;test_data.csv&quot;</span><span class="p">,</span>
    <span class="n">sequence_col</span><span class="o">=</span><span class="s2">&quot;sequence&quot;</span><span class="p">,</span>
    <span class="n">target_col</span><span class="o">=</span><span class="s2">&quot;function&quot;</span><span class="p">,</span>
    <span class="n">embedding_method</span><span class="o">=</span><span class="s2">&quot;one-hot&quot;</span><span class="p">,</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s2">&quot;regression&quot;</span><span class="p">,</span>
    <span class="n">optimization_metric</span><span class="o">=</span><span class="s2">&quot;r2&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Make predictions</span>
<span class="n">predictions</span> <span class="o">=</span> <span class="n">predict</span><span class="p">(</span><span class="n">model_info</span><span class="p">,</span> <span class="n">new_sequences</span><span class="p">)</span>

<span class="c1"># Save and load models</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;model.pkl&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">model_info</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;model.pkl&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">loaded_model</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</code></pre></div>
<h3 id="command-line-interface">Command-Line Interface</h3>
<p>The CLI provides commands for training, prediction, and embedding comparison:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Train a model</span>
fast-seqfunc<span class="w"> </span>train<span class="w"> </span>train_data.csv<span class="w"> </span>--sequence-col<span class="w"> </span>sequence<span class="w"> </span>--target-col<span class="w"> </span><span class="k">function</span><span class="w"> </span>--embedding-method<span class="w"> </span>one-hot

<span class="c1"># Make predictions</span>
fast-seqfunc<span class="w"> </span>predict<span class="w"> </span>model.pkl<span class="w"> </span>new_sequences.csv<span class="w"> </span>--output-path<span class="w"> </span>predictions.csv

<span class="c1"># Compare embedding methods</span>
fast-seqfunc<span class="w"> </span>compare-embeddings<span class="w"> </span>train_data.csv<span class="w"> </span>--test-data<span class="w"> </span>test_data.csv
</code></pre></div>
<h2 id="key-design-decisions">Key Design Decisions</h2>
<h3 id="1-embedding-strategy">1. Embedding Strategy</h3>
<ul>
<li><strong>One-Hot Encoding</strong>: Primary embedding method for all sequence types</li>
<li><strong>Custom Alphabets</strong>: Support for user-defined alphabets through the <code>Alphabet</code> class</li>
<li><strong>Auto-Detection</strong>: Auto-detection of sequence type (protein, DNA, RNA)</li>
<li><strong>Gap Handling</strong>: Configurable padding for sequences of different lengths</li>
</ul>
<h3 id="2-alphabet-design">2. Alphabet Design</h3>
<ul>
<li><strong>Flexible Tokenization</strong>: Support for character-based, delimited, and regex-based tokenization</li>
<li><strong>Standard Alphabets</strong>: Built-in support for protein, DNA, and RNA</li>
<li><strong>Token Mapping</strong>: Bidirectional mapping between tokens and indices</li>
<li><strong>Sequence Padding</strong>: Automatic handling of variable-length sequences</li>
</ul>
<h3 id="3-model-integration">3. Model Integration</h3>
<ul>
<li><strong>PyCaret Integration</strong>: Leverage PyCaret for automated model selection</li>
<li><strong>Model Type Flexibility</strong>: Support for regression and classification tasks</li>
<li><strong>Performance Evaluation</strong>: Built-in metrics calculation based on model type</li>
<li><strong>Serialization</strong>: Simple model saving and loading</li>
</ul>
<h3 id="4-synthetic-data-generation">4. Synthetic Data Generation</h3>
<ul>
<li><strong>Task Generators</strong>: Functions for creating various sequence-function relationships</li>
<li><strong>Customization</strong>: Configurable difficulty, noise, and relationship types</li>
<li><strong>Data Types</strong>: Support for protein, DNA, RNA, and integer sequences</li>
</ul>
<h2 id="implementation-details">Implementation Details</h2>
<h3 id="onehotembedder">OneHotEmbedder</h3>
<ul>
<li>Supports protein, DNA, RNA, and custom sequences</li>
<li>Auto-detects sequence type when configured to 'auto'</li>
<li>Handles padding and truncating with configurable gap character</li>
<li>Provides both flattened and 2D one-hot encodings</li>
</ul>
<h3 id="alphabet-class">Alphabet Class</h3>
<ul>
<li>Represents sets of tokens with various tokenization strategies</li>
<li>Provides factory methods for standard biological alphabets</li>
<li>Supports custom token sets with arbitrary delimiters</li>
<li>Handles sequence padding and token-to-index mappings</li>
</ul>
<h3 id="sequencefunctionmodel">SequenceFunctionModel</h3>
<ul>
<li>Integrates with PyCaret for model training</li>
<li>Handles different model types (regression, classification)</li>
<li>Provides model evaluation methods</li>
<li>Supports serialization for saving/loading</li>
</ul>
<h3 id="synthetic-data-generation">Synthetic Data Generation</h3>
<ul>
<li>Generate random sequences with controlled properties</li>
<li>Create sequence-function datasets with known relationships</li>
<li>Support for various task types (count, position, pattern, etc.)</li>
<li>Configurable noise and complexity levels</li>
</ul>
<h2 id="dependencies">Dependencies</h2>
<ul>
<li>Core dependencies:</li>
<li>pandas: Data handling</li>
<li>numpy: Numerical operations</li>
<li>pycaret: Automated ML</li>
<li>scikit-learn: Model evaluation metrics</li>
<li>loguru: Logging</li>
<li>typer: CLI</li>
<li>lazy-loader: Lazy imports</li>
</ul>
<h2 id="future-enhancements">Future Enhancements</h2>
<ol>
<li><strong>Advanced Embedders</strong>:</li>
<li>Implement CARP integration for protein embeddings</li>
<li>
<p>Implement ESM2 integration for protein embeddings</p>
</li>
<li>
<p><strong>Caching Mechanism</strong>:</p>
</li>
<li>
<p>Add disk caching for embeddings to improve performance on repeated runs</p>
</li>
<li>
<p><strong>Enhance PyCaret Integration</strong>:</p>
</li>
<li>Add more customization options for model selection</li>
<li>
<p>Support for custom models</p>
</li>
<li>
<p><strong>Expand Data Loading</strong>:</p>
</li>
<li>Support for FASTA file formats</li>
<li>
<p>Support for more complex dataset structures</p>
</li>
<li>
<p><strong>Add Visualization</strong>:</p>
</li>
<li>Built-in visualizations for model performance</li>
<li>Sequence importance analysis</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<p>Fast-SeqFunc provides a streamlined approach to sequence-function modeling with a focus on simplicity and automation. The architecture balances flexibility with ease of use, allowing users to train models with minimal code while providing options for custom alphabets and sequence types.</p>
<p>The current implementation focuses on one-hot encoding with strong support for custom alphabets, while laying the groundwork for more advanced embedding methods in the future.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/ericmjl" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["instant", "tabs"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../config.js"></script>
      
    
  </body>
</html>